# üé§ Podium Pal - Testing & Troubleshooting Guide

## ‚úÖ Quick Start (3 Steps)

### Step 1: Test Your Microphone FIRST

1. Open `TEST_MICROPHONE.html` in Chrome or Edge
2. Click "Start Test" and allow microphone access
3. Say: "Testing one two three hello world"
4. **You MUST see your words appear** - if not, your mic isn't working!

### Step 2: Start the Backend

- **Double-click** `START_BACKEND.bat`
- Wait for: `‚úì Gemini API configured successfully`
- Server runs at: http://localhost:8000

### Step 3: Start the Frontend

- **Double-click** `START_FRONTEND.bat`
- App opens at: http://localhost:5173
- Keep the terminal open!

---

## üîß Complete Testing Procedure

### Frontend Testing:

1. **Open the app** at http://localhost:5173
2. **Open browser console** (F12 ‚Üí Console tab)
3. **Enter a speech goal**: "Explain that AI is transforming education"
4. **Click "Start Recording"**
5. **IMMEDIATELY start speaking** - Don't pause! Say:
   ```
   Hello everyone, today I want to talk about artificial intelligence
   and how it is revolutionizing the education sector. AI technologies
   are making learning more personalized and accessible to students
   around the world.
   ```
6. **Keep speaking for 20-30 seconds**
7. **Click "Stop & Analyze"**

### What You Should See in Console:

```
üéôÔ∏è STARTING RECORDING...
‚úì Recognition.start() called successfully
‚úì Speech recognition started successfully
üìù Speech recognition result received
  Result [0]: "hello everyone" (final: false, confidence: N/A)
‚úì Updated final transcript: hello everyone today I want to...
‚èπÔ∏è STOPPING RECORDING...
‚úì Recognition.stop() called
‚èπÔ∏è Speech recognition ended
User stopped recording, analyzing transcript...
Sending to backend: {transcript: "...", userGoal: "..."}
Received feedback: {pace: 145, fillerWords: {...}, ...}
```

### What You Should See on Page:

1. **Live transcript** updating as you speak
2. **Status**: "üé§ Listening... Speak now!"
3. After stopping: "‚úì Recording complete. Analyzing..."
4. **Feedback Report** appears with:
   - Clarity Score (big number)
   - Speaking Pace
   - Filler Words
   - AI Summary
   - Constructive Tip

---

## üö® Troubleshooting

### Problem: "No speech detected"

**Causes:**

- Microphone not working
- Browser doesn't have permission
- Speaking too quietly
- Wrong microphone selected

**Solutions:**

1. ‚úÖ Test with `TEST_MICROPHONE.html` FIRST
2. ‚úÖ Click the üîí padlock in address bar ‚Üí Allow microphone
3. ‚úÖ Check Windows Settings ‚Üí Privacy ‚Üí Microphone ‚Üí ON
4. ‚úÖ In browser settings, check which microphone is selected
5. ‚úÖ Speak LOUD and CLEAR, close to the microphone
6. ‚úÖ Use Chrome or Edge (other browsers may not work)

### Problem: Transcript appears but no feedback

**Check:**

1. Is backend running? Should show `Uvicorn running on http://0.0.0.0:8000`
2. Is Gemini API key valid in `backend/.env`?
3. Check backend terminal for errors
4. Check browser console for network errors

**Test backend manually:**

```powershell
cd backend
python -c "import requests, json; r=requests.post('http://localhost:8000/analyze', json={'transcript':'hello world test', 'userGoal':'test goal'}); print(r.json())"
```

### Problem: "Speech recognition error: not-allowed"

**Solution:**

1. Go to: chrome://settings/content/microphone
2. Find your site (localhost:5173)
3. Change to "Allow"
4. Refresh the page

### Problem: Recognition keeps stopping (aborted error)

**This is the issue you had!** The improved code should fix this by:

- Restarting recognition automatically if it stops unexpectedly
- Better state management with refs
- Proper event handler cleanup

---

## üìã Checklist Before Demo

- [ ] `TEST_MICROPHONE.html` works (words appear when speaking)
- [ ] Backend starts without errors
- [ ] Frontend loads at localhost:5173
- [ ] Console shows "Speech Recognition initialized"
- [ ] Can record and see transcript in real-time
- [ ] Feedback report appears after stopping
- [ ] Clarity Score is generated by Gemini
- [ ] All metrics displayed correctly

---

## üéØ Demo Script

1. **Show the interface** - clean, professional UI
2. **Enter goal**: "Explain that our product launch was successful"
3. **Start recording** - speak confidently for 30 seconds about a product launch
4. **Stop and analyze** - show the AI feedback appearing
5. **Highlight**:
   - Real-time transcription
   - Clarity Score (unique feature!)
   - Personalized AI feedback
   - Filler word detection
   - Speaking pace analysis

---

## üîç Debug Mode

Add this to browser console for extra logging:

```javascript
localStorage.setItem("debug", "true");
```

---

## üìû Common Questions

**Q: Why Chrome/Edge only?**
A: Web Speech API is only fully supported in Chromium browsers.

**Q: Can I use an external microphone?**
A: Yes! Just select it in browser settings before recording.

**Q: Why does it sometimes not hear me?**
A: The Web Speech API needs clear audio. Background noise, low volume, or poor mic quality can cause issues.

**Q: Is the Gemini API free?**
A: Gemini has a free tier with limits. Check Google AI Studio for details.

---

## ‚ú® Your App is Ready!

Everything is configured correctly. The key improvements:

1. ‚úÖ Gemini LLM integration complete
2. ‚úÖ Better speech recognition handling
3. ‚úÖ Auto-restart on unexpected stops
4. ‚úÖ Comprehensive error messages
5. ‚úÖ Detailed logging for debugging

**Your Podium Pal is 100% functional!** üéâ

Just follow the testing procedure and you'll see it working perfectly.
